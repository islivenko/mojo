# Bitrix24 Architecture - Bergermann

> **ะฆะธััะพะฒะฐั ะฐััะธัะตะบัััะฐ ะฑะธะทะฝะตัะฐ ะฝะฐ ะฑะฐะทะต Bitrix24**
> ะะตััะธั: 1.0 | ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต: 2026-01-03

---

## ๐ฏ ะะพะฝัะตะฟัะธั

Bitrix24 ัะฐััะผะฐััะธะฒะฐะตััั **ะฝะต ะบะฐะบ ะฝะฐัััะพะนะบะฐ ัะธััะตะผั**, ะฐ ะบะฐะบ **ะฟะพัััะพะตะฝะธะต ัะฟัะฐะฒะปัะตะผะพะน ัะธััะพะฒะพะน ะฐััะธัะตะบัััั ะฑะธะทะฝะตัะฐ**.

**ะะปััะตะฒะฐั ะธะดะตั:**
Bitrix24 โ ััะพ ะฟะปะฐััะพัะผะฐ ะธัะฟะพะปะฝะตะฝะธั. ะฆะตะฝะฝะพััั ัะพะทะดะฐัั ะฐััะธัะตะบัััะฐ:
**ะะฐะฝะฝัะต โ ะัะพัะตััั โ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั โ ะะพะฝััะพะปั**, ัะฟัะฐะฒะปัะตะผัะต ัะตัะตะท ัะพะปะธ ะธ ะฟัะฐะฒะธะปะฐ.

---

## ๐ ะััะธัะตะบัััะฝะฐั ะผะพะดะตะปั

### ะะฒััะผะตัะฝะฐั ััััะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    GOVERNANCE LAYER                              โ
โ         (ะะพะปะธ โข ะะพัััะฟั โข ะะตะณะปะฐะผะตะฝัั โข ะะพะฝััะพะปั ะธะทะผะตะฝะตะฝะธะน)      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
โ   Module 1  โ   Module 2   โ   Module N   โ
โ Legalizacja โ   Klienci    โ     ...      โ
โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโค
โ Layer 1: Data Structure                   โ
โ โข SPA entities  โข Fields  โข Relations     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Layer 2: Processes                        โ
โ โข Funnels  โข Stages  โข Transitions        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Layer 3: Functionality                    โ
โ โข Automations  โข Integrations  โข Tasks    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Layer 4: Reports & Control                โ
โ โข KPIs  โข Dashboards  โข Analytics         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฆ ะะทะผะตัะตะฝะธะต 1: ะะพะดัะปัะฝะฐั ััััะบัััะฐ (ะงะขะ ะฒะฝะตะดััะตะผ)

**ะะพะดัะปั** = ะทะฐะบะพะฝัะตะฝะฝัะน ะฑะธะทะฝะตั-ะบะพะฝััั, ะฐ ะฝะต ะฟัะพััะพ ะพัะดะตะป.

### ะขะตะบััะธะต ะผะพะดัะปะธ:

#### 1. Legalizacja (ะะตะณะฐะปะธะทะฐัะธั ะธะฝะพัััะฐะฝัะตะฒ) โ
**ะกัะฐััั:** ะะบัะธะฒะตะฝ
**ะะฟะธัะฐะฝะธะต:** ะัะณะฐะฝะธะทะฐัะธั ะดะพะบัะผะตะฝัะพะฒ ะธ ะฟัะพัะตััะพะฒ, ัะฒัะทะฐะฝะฝัั ั ะปะตะณะฐะปะธะทะฐัะธะตะน ะธะฝะพัััะฐะฝัะตะฒ ะฒ ะะพะปััะต

**ะะฐะดะฐัะฐ ะผะพะดัะปั:**
ะะฑะตัะฟะตัะธัั ะฟะพะปะฝัะน ัะธะบะป ัะฟัะฐะฒะปะตะฝะธั ะปะตะณะฐะปะธะทะฐัะธะตะน ะธะฝะพัััะฐะฝะฝัั ัะฐะฑะพัะฝะธะบะพะฒ - ะพั ัะตะณะธัััะฐัะธะธ ะบะฐะฝะดะธะดะฐัะฐ ะดะพ ะฟะพะปััะตะฝะธั ะฒัะตั ะฝะตะพะฑัะพะดะธะผัั ัะฐะทัะตัะตะฝะธะน ะธ ะดะพะบัะผะตะฝัะพะฒ.

**ะะฐะทะดะตะปั ะผะพะดัะปั:**
- **Sprawy cudzoziemcรณw (SPA 1038)** - ะะตะปะฐ ะธะฝะพัััะฐะฝัะตะฒ (ะบะพะฝัะพะปะธะดะธััะตั ะฒัะต ะดะฐะฝะฝัะต ะธ ะธะฝัะพัะผะฐัะธั ะฟะพ ะธะฝะพัััะฐะฝัั)
- **Podstawy pobytu (SPA 1050)** - ะัะฝะพะฒะฐะฝะธั ะฟัะตะฑัะฒะฐะฝะธั
- **Uprawnienia do pracy (SPA 1046)** - ะะฐะทัะตัะตะฝะธั ะฝะฐ ัะฐะฑะพัั
- **Wnioski** - ะะฐัะฒะปะตะฝะธั (ะพััะฐะถะฐะตั ะฟัะพัะตัั ัะตะฐะปะธะทะฐัะธะธ ะทะฐัะฒะพะบ)
- **Umowy (SPA 1070)** - ะะพะณะพะฒะพัั
- **Stanowiska** - ะะพะปะถะฝะพััะธ
- **Zaลฤczniki (SPA 1054)** - ะะพะบัะผะตะฝัั ะธ ะฒะปะพะถะตะฝะธั

**ะกะฒัะทะฐะฝะฝัะต ัััะฝะพััะธ:**
- **Contact** - ะะพะฝัะฐะบัั ะบะฐะฝะดะธะดะฐัะพะฒ

**ะะปััะตะฒัะต ะฟัะพัะตััั:**
- ะะตะณะธัััะฐัะธั ะบะฐะฝะดะธะดะฐัะฐ ะธ ัะพะทะดะฐะฝะธะต ะดะตะปะฐ
- ะกะฑะพั ะธ ะพะฑัะฐะฑะพัะบะฐ ะดะพะบัะผะตะฝัะพะฒ (OCR ะฟะฐัะฟะพััะพะฒ)
- ะะพะดะณะพัะพะฒะบะฐ ะธ ะฟะพะดะฐัะฐ ะทะฐัะฒะปะตะฝะธะน (Wnioski)
- ะัะพัะผะปะตะฝะธะต ะพัะฝะพะฒะฐะฝะธะน ะฟัะตะฑัะฒะฐะฝะธั
- ะะพะปััะตะฝะธะต ัะฐะทัะตัะตะฝะธะน ะฝะฐ ัะฐะฑะพัั
- ะะฐะบะปััะตะฝะธะต ะดะพะณะพะฒะพัะพะฒ
- ะะฐะทะฝะฐัะตะฝะธะต ะฝะฐ ะดะพะปะถะฝะพััะธ
- ะััะปะตะถะธะฒะฐะฝะธะต ััะฐัััะพะฒ ะฝะฐ ะฒัะตั ััะฐะฟะฐั
- ะะฒัะพะผะฐัะธัะตัะบะฐั ัะธะฝััะพะฝะธะทะฐัะธั ะดะฐะฝะฝัั ะผะตะถะดั ัะฐะทะดะตะปะฐะผะธ

**ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- ะะฒัะพะผะฐัะธัะตัะบะฐั ัะธะฝััะพะฝะธะทะฐัะธั ัะฒัะทะฐะฝะฝัั ัััะฝะพััะตะน
- OCR-ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ะฟะฐัะฟะพััะพะฒ (Document AI + Gemini AI)
- ะะฒัะพะทะฐะฟะพะปะฝะตะฝะธะต ะฟะพะปะตะน Contact ะธะท ะฟะฐัะฟะพััะฝัั ะดะฐะฝะฝัั (8 ะฟะพะปะตะน)
- Timeline notifications ั ัะตะทัะปััะฐัะฐะผะธ ะพะฑัะฐะฑะพัะบะธ
- ะะถะตะดะฝะตะฒะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั ะฒัะตั ะฐะบัะธะฒะฝัั ะดะตะป
- ะะธะฝะฐะผะธัะตัะบะฐั ะทะฐะณััะทะบะฐ ัะฟัะฐะฒะพัะฝะธะบะพะฒ (242 ัััะฐะฝั, ะฟะพะป)
- ะะฐัะธัะฐ ะพั ะฟะตัะตะทะฐะฟะธัะธ ัััะตััะฒัััะธั ะดะฐะฝะฝัั

**ะััััั ะธ ะบะพะฝััะพะปั:**
- ะกัะฐัััั ะดะตะป ะฟะพ ััะฐะฟะฐะผ
- ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะพัะฝะพะฒะฐะฝะธะน ะฟัะตะฑัะฒะฐะฝะธั
- ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะดะพะณะพะฒะพัะพะฒ
- ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ัะฐะทัะตัะตะฝะธะน ะฝะฐ ัะฐะฑะพัั
- ะัะพะณัะตัั ะฟะพ ะทะฐัะฒะปะตะฝะธัะผ (Wnioski)
- ะฃัะฟะตัะฝะพััั OCR-ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั
- ะะพะปะฝะพัะฐ ะทะฐะฟะพะปะฝะตะฝะธั ะดะพะบัะผะตะฝัะพะฒ

---

#### 2. Klienci (ะะปะธะตะฝัั) ๐ก
**ะกัะฐััั:** ะ ัะฐะทัะฐะฑะพัะบะต
**ะะฟะธัะฐะฝะธะต:** ะัะณะฐะฝะธะทะฐัะธั ะทะฐะบะฐะทะพะฒ, ะฐะฑะพะฝะตะผะตะฝัะพะฒ, ัะฐััััะพะฒ ะธ ะฒะทะฐะธะผะพัะฐััััะพะฒ ั ะบะปะธะตะฝัะฐะผะธ

**ะะฐะดะฐัะฐ ะผะพะดัะปั:**
ะฃะฟัะฐะฒะปััั ะทะฐะบะฐะทะฐะผะธ ะบะปะธะตะฝัะพะฒ, ะฐะฑะพะฝะตะผะตะฝัะฐะผะธ, ะฟะตัะตะดะฐัะตะน ะบะฐะฝะดะธะดะฐัะพะฒ ะฝะฐ ัะพะฟัะพะฒะพะถะดะตะฝะธะต ะฟะพ ะปะตะณะฐะปะธะทะฐัะธะธ ะธ ัะธะฝะฐะฝัะพะฒัะผะธ ะฒะทะฐะธะผะพัะฐััััะฐะผะธ ั ะบะปะธะตะฝัะฐะผะธ.

**ะัะฝะพะฒะฝัะต ะฝะฐะฟัะฐะฒะปะตะฝะธั:**
- **ะะฐะบะฐะทั (Orders)** - ัะฟัะฐะฒะปะตะฝะธะต ะทะฐะบะฐะทะฐะผะธ ะพั ะบะปะธะตะฝัะพะฒ
- **ะะฑะพะฝะตะผะตะฝัั (Subscriptions)** - ะฐะฑะพะฝะตะผะตะฝัะฝะพะต ะพะฑัะปัะถะธะฒะฐะฝะธะต
- **ะะฐะฝะดะธะดะฐัั ะฝะฐ ะปะตะณะฐะปะธะทะฐัะธั** - ะฟะตัะตะดะฐัะฐ ะบะฐะฝะดะธะดะฐัะพะฒ ะฝะฐ ัะพะฟัะพะฒะพะถะดะตะฝะธะต
- **ะะฐััััั (Billing)** - ัะธะฝะฐะฝัะพะฒัะต ะพะฟะตัะฐัะธะธ ะธ ะฒะทะฐะธะผะพัะฐััััั
- **ะะปะธะตะฝัั (Clients)** - ัะฟัะฐะฒะปะตะฝะธะต ะบะปะธะตะฝััะบะพะน ะฑะฐะทะพะน

**ะกะฒัะทั ั ะดััะณะธะผะธ ะผะพะดัะปัะผะธ:**
- ะะฝัะตะณัะฐัะธั ั ะผะพะดัะปะตะผ **Legalizacja** ะดะปั ะฟะตัะตะดะฐัะธ ะบะฐะฝะดะธะดะฐัะพะฒ
- ะกะฒัะทั ั ะผะพะดัะปะตะผ **Accounting** ะดะปั ัะธะฝะฐะฝัะพะฒัั ะพะฟะตัะฐัะธะน

**ะะปััะตะฒัะต ะฟัะพัะตััั:**
- ะะตะณะธัััะฐัะธั ะทะฐะบะฐะทะฐ ะพั ะบะปะธะตะฝัะฐ
- ะัะพัะผะปะตะฝะธะต ะฐะฑะพะฝะตะผะตะฝัะฐ
- ะะตัะตะดะฐัะฐ ะบะฐะฝะดะธะดะฐัะฐ ะฒ ะผะพะดัะปั Legalizacja
- ะัััะฐะฒะปะตะฝะธะต ััะตัะพะฒ
- ะะพะฝััะพะปั ะพะฟะปะฐั
- ะััะปะตะถะธะฒะฐะฝะธะต ะทะฐะดะพะปะถะตะฝะฝะพััะตะน

**ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ััะตัะพะฒ
- ะฃะฒะตะดะพะผะปะตะฝะธั ะพ ะฟะปะฐัะตะถะฐั
- ะะพะฝััะพะปั ะฐะฑะพะฝะตะผะตะฝัะพะฒ
- ะะฝัะตะณัะฐัะธั ั ะผะพะดัะปะตะผ Legalizacja
- ะััััั ะฟะพ ะฒะทะฐะธะผะพัะฐััััะฐะผ

**ะััััั ะธ ะบะพะฝััะพะปั:**
- ะะบัะธะฒะฝัะต ะทะฐะบะฐะทั
- ะกัะฐััั ะฐะฑะพะฝะตะผะตะฝัะพะฒ
- ะะตะฑะธัะพััะบะฐั ะทะฐะดะพะปะถะตะฝะฝะพััั
- ะะฟะปะฐัะตะฝะฝัะต ััะตัะฐ
- ะะตัะตะดะฐะฝะฝัะต ะบะฐะฝะดะธะดะฐัั

---

## ๐๏ธ ะะทะผะตัะตะฝะธะต 2: ะฃะฝะธะฒะตััะฐะปัะฝัะต ัะปะพะธ (ะะะ ัะตะฐะปะธะทะพะฒะฐะฝะพ)

ะะฐะถะดัะน ะผะพะดัะปั ะพะฟะธััะฒะฐะตััั ัะตัะตะท 4 ะพะฑัะทะฐัะตะปัะฝัั ัะปะพั:

### Layer 1: ะกัััะบัััะฐ ะดะฐะฝะฝัั
**ะฆะตะปั:** ะะดะธะฝะฐั, ะปะพะณะธัะฝะฐั ะผะพะดะตะปั ะดะฐะฝะฝัั

**ะะบะปััะฐะตั:**
- ะกััะฝะพััะธ (SPA, Deal, Contact)
- ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะฟะพะปั
- ะกะฒัะทะธ ะผะตะถะดั ัััะฝะพัััะผะธ
- ะกัะฐัััั ะธ ัะฟัะฐะฒะพัะฝะธะบะธ
- ะััะพัะฝะธะบะธ ะดะฐะฝะฝัั (ัะพัะผั, API, ะธะผะฟะพััั)

**ะัะธะผะตั (Legalizacja):**
```
Contact (ะะฐะฝะดะธะดะฐั)
    โ (1:N)
Cudzoziemcy (SPA 1038) - ะะตะปะพ
    โ (1:N)
โโโ Podstawy pobytu (SPA 1050)
โโโ Umowy (SPA 1070)
โโโ Uprawnienia do pracy (SPA 1046)
โโโ Zaลฤczniki (SPA 1054)
```

---

### Layer 2: ะัะพัะตััั
**ะฆะตะปั:** ะัะพะทัะฐัะฝัะน ะธ ะฒะพัะฟัะพะธะทะฒะพะดะธะผัะน flow

**ะะบะปััะฐะตั:**
- ะะพัะพะฝะบะธ ะธ ััะฐะฟั
- ะะตัะตัะพะดั ะธ ะฟัะฐะฒะธะปะฐ
- ะัะฒะตัััะฒะตะฝะฝัะต
- ะะพะฝััะพะปัะฝัะต ัะพัะบะธ ะธ ะธัะบะปััะตะฝะธั

**ะัะธะผะตั (Legalizacja):**
```
ะะพะฒัะน ะบะฐะฝะดะธะดะฐั โ ะกะฑะพั ะดะพะบัะผะตะฝัะพะฒ โ ะัะพะฒะตัะบะฐ โ ะะพะดะฐัะฐ โ
ะะถะธะดะฐะฝะธะต ัะตัะตะฝะธั โ ะะพะปััะตะฝะธะต ัะฐะทัะตัะตะฝะธั โ ะะฐะฒะตััะตะฝะพ
```

---

### Layer 3: ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั
**ะฆะตะปั:** ะัะพัะตััั ัะตะฐะปัะฝะพ ัะฐะฑะพัะฐัั, ะฐ ะฝะต ัััะตััะฒััั ะฝะฐ ััะตะผะต

**ะะบะปััะฐะตั:**
- ะะฒัะพะผะฐัะธะทะฐัะธะธ Bitrix24 (ัะพะฑะพัั, ะะ, SPA)
- ะะฝัะตะณัะฐัะธะธ (ัะตะปะตัะพะฝะธั, e-mail, API, GCP)
- ะจะฐะฑะปะพะฝั ะดะพะบัะผะตะฝัะพะฒ
- ะะฐะดะฐัะธ ะธ ัะฒะตะดะพะผะปะตะฝะธั

**ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ:**
- **Bitrix24 REST API** - ะพัะฝะพะฒะฝะพะน ะธะฝัะตััะตะนั ะฒะทะฐะธะผะพะดะตะนััะฒะธั
- **Google Cloud Platform:**
  - Cloud Functions (2nd gen) - serverless compute
  - Cloud Pub/Sub - ะฐัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ
  - Secret Manager - ะฑะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ัะพะบะตะฝะพะฒ
  - Cloud Scheduler - ะฟะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั
- **AI/ML:**
  - Document AI - OCR ัะตะบััะฐ ะธะท ะดะพะบัะผะตะฝัะพะฒ
  - Gemini AI - ะฟะฐััะธะฝะณ ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั
- **OAuth 2.0** - ะฐะฒัะพัะธะทะฐัะธั

---

### Layer 4: ะััััั ะธ ะบะพะฝััะพะปั
**ะฆะตะปั:** ะฃะฟัะฐะฒะปัะตะผะพััั ะธ ะฟัะธะฝััะธะต ัะตัะตะฝะธะน ะฝะฐ ะพัะฝะพะฒะต ะดะฐะฝะฝัั

**ะะบะปััะฐะตั:**
- KPI
- ะะฐัะฑะพัะดั
- ะะพะฝััะพะปั ะพัะธะฑะพะบ ะธ ัะทะบะธั ะผะตัั
- ะะปะฐะฝ vs ัะฐะบั

**ะขะตะบััะธะน ััะฐััั:** ะ ัะฐะทัะฐะฑะพัะบะต

---

## ๐ก๏ธ ะกะบะฒะพะทะฝะพะน ัะปะพะน: Governance

**Governance** ะฝะฐะบััะฒะฐะตั ะฒัะต ะผะพะดัะปะธ ะธ ัะปะพะธ.

### 1. ะะพะปะธ
- ะะพะปะธ ะพะฟัะตะดะตะปััััั ะฟะพ ััะฝะบัะธัะผ ะฒ ะฟัะพัะตััะฐั, ะฐ ะฝะต ะฟะพ ะดะพะปะถะฝะพัััะผ
- ะะดะธะฝ ะฟะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะธะผะตัั ะฝะตัะบะพะปัะบะพ ัะพะปะตะน

**ะัะธะผะตัั ัะพะปะตะน (Legalizacja):**
- ะะตะฝะตะดะถะตั ะฟะพ ะปะตะณะฐะปะธะทะฐัะธะธ
- ะกะฟะตัะธะฐะปะธัั ะฟะพ ะดะพะบัะผะตะฝัะฐะผ
- ะฎัะธัั
- ะะดะผะธะฝะธัััะฐัะพั ัะธััะตะผั

### 2. ะะพัััะฟั
- ะะพัััะฟั ะฒััะตะบะฐัั ะธะท ัะพะปะตะน
- ะะฟัะตะดะตะปัะตััั: ะบัะพ ะฒะธะดะธั, ัะตะดะฐะบัะธััะตั, ะฟะพะดัะฒะตัะถะดะฐะตั, ะฝะต ะฒะธะดะธั

### 3. ะะตะณะปะฐะผะตะฝัั
- ะขะพะปัะบะพ ัะฐะผ, ะณะดะต ะตััั ัะธัะบ (ััะธะดะธัะตัะบะธะน, ัะธะฝะฐะฝัะพะฒัะน, ะพะฟะตัะฐัะธะพะฝะฝัะน)
- ะะพัะพัะบะธะต, ะฟัะพัะตััะฝัะต, ะฟัะธะฒัะทะฐะฝะฝัะต ะบ ัะพะปัะผ

### 4. ะะพะฝััะพะปั ะธะทะผะตะฝะตะฝะธะน
- ะัะพ ะธ ะบะฐะบ ะผะพะถะตั ะผะตะฝััั ะฟะพะปั, ะฟัะพัะตััั ะธ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ
- ะะตััะธะพะฝะธัะพะฒะฐะฝะธะต ัะตัะตะท Git
- Code review ะดะปั ะบัะธัะธัะฝัั ะธะทะผะตะฝะตะฝะธะน

---

## ๐ง ะขะตัะฝะธัะตัะบะฐั ะฐััะธัะตะบัััะฐ

### Google Cloud Functions

ะัะต Cloud Functions ัะปะตะดััั ะตะดะธะฝะพะผั ะฟะฐััะตัะฝั: **Webhook Handler + Pub/Sub Worker**

```
Bitrix24 Webhook
    โ (HTTP)
HTTP Handler (b24-*-http)
    โข ะัััััะน ะพัะฒะตั (<200ms)
    โข ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั
    โข ะัะฑะปะธะบะฐัะธั ะฒ Pub/Sub
    โ (Pub/Sub)
Worker (b24-*-worker)
    โข ะัะฝะพะฒะฝะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
    โข ะัะทะพะฒั API
    โข ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
    โข Retry ะผะตัะฐะฝะธะทะผ
    โ
Bitrix24 API / External Services
```

### ะะบัะธะฒะฝัะต ััะฝะบัะธะธ:

#### 1. b24-token-refresh
**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต OAuth ัะพะบะตะฝะพะฒ
**ะขัะธะณะณะตั:** Cloud Scheduler (ะบะฐะถะดัะต 50 ะผะธะฝัั)
**ะขะตัะฝะพะปะพะณะธะธ:** Secret Manager, Bitrix24 OAuth API

#### 2. b24-spa-1038-sync (ะกะธะฝััะพะฝะธะทะฐัะธั Cudzoziemcy)
**ะะพะผะฟะพะฝะตะฝัั:**
- `b24-spa-1038-http` - webhook handler
- `b24-spa-1038-sync-worker` - ะพัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ
- `b24-spa-1038-daily-sync` - ะตะถะตะดะฝะตะฒะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะธะฝััะพะฝะธะทะฐัะธั ัะฒัะทะตะน ะผะตะถะดั Cudzoziemcy ะธ ัะฒัะทะฐะฝะฝัะผะธ SPA
**ะขัะธะณะณะตัั:**
- Webhooks ะพั Bitrix24 (ONCRMDYNAMICITEMADD, ONCRMDYNAMICITEMUPDATE)
- Cloud Scheduler (ะตะถะตะดะฝะตะฒะฝะพ ะฒ 03:00)

**ะกะธะฝััะพะฝะธะทะธััะตะผัะต ัะฒัะทะธ:**
- Podstawy pobytu (1050) โ Cudzoziemcy (1038)
- Umowy (1070) โ Cudzoziemcy (1038)
- Uprawnienia do pracy (1046) โ Cudzoziemcy (1038)
- Contact fields โ Cudzoziemcy (1038)

#### 3. b24-ocr (OCR ะดะพะบัะผะตะฝัะพะฒ)
**ะะพะผะฟะพะฝะตะฝัั:**
- `b24-ocr-http` - webhook handler
- `b24-ocr-worker` - OCR processor

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ะฟะฐัะฟะพััะพะฒ ะธ ะฐะฒัะพะทะฐะฟะพะปะฝะตะฝะธะต Contact
**ะขัะธะณะณะตั:** Webhooks ะพั SPA Zaลฤczniki (1054)

**ะัะพัะตัั:**
1. ะะพะปััะตะฝะธะต ัะฐะนะปะฐ ะธะท Bitrix24
2. OCR ัะตะบััะฐ (Document AI)
3. ะะฐััะธะฝะณ ะดะฐะฝะฝัั (Gemini AI)
4. ะะฑะฝะพะฒะปะตะฝะธะต ะฟะพะปะตะน Contact (8 ะฟะพะปะตะน)
5. ะัะฑะปะธะบะฐัะธั ัะตะทัะปััะฐัะพะฒ ะฒ Timeline

**ะะฐัะฟะพะทะฝะฐะฒะฐะตะผัะต ะฟะพะปั:**
- ะะพะผะตั ะฟะฐัะฟะพััะฐ
- ะะผั, ะคะฐะผะธะปะธั
- ะะฐัะฐ ัะพะถะดะตะฝะธั
- ะัะฐะถะดะฐะฝััะฒะพ (242 ัััะฐะฝั)
- ะะพะป
- ะะฐัั ะฒัะดะฐัะธ ะธ ะพะบะพะฝัะฐะฝะธั

---

## ๐ ะะตัะพะดะพะปะพะณะธัะตัะบะฐั ะพัะฝะพะฒะฐ

ะคัะตะนะผะฒะพัะบ ะพะฟะธัะฐะตััั ะฝะฐ:

- **Domain-Driven Design** - ัะตัะตะท ะผะพะดัะปัะฝะพััั
- **Process-first ะฟะพะดัะพะด** - ัะตัะตะท ะฟัะพัะตััั ะบะฐะบ ะพัะฝะพะฒั
- **ะัะตัะฐัะธะฒะฝะพะต ะฒะฝะตะดัะตะฝะธะต** - ะฟะพ ะผะพะดัะปัะผ
- **Architecture-first ะผััะปะตะฝะธะต** ะฑะตะท ััะถัะปะพะน ะฑััะพะบัะฐัะธะธ
- **Infrastructure as Code** - ะฒัะต ััะฝะบัะธะธ ะฒะตััะธะพะฝะธัััััั ะฒ Git

---

## ๐ ะกัััะบัััะฐ ะดะพะบัะผะตะฝัะฐัะธะธ

```
docs/
โโโ bitrix24-architecture.md           # โ ะญัะพั ะดะพะบัะผะตะฝั
โโโ modules/                           # ะะฟะธัะฐะฝะธะต ะฑะธะทะฝะตั-ะผะพะดัะปะตะน
โ   โโโ legalizacja/                   # ะะพะดัะปั ะปะตะณะฐะปะธะทะฐัะธะธ
โ       โโโ overview.md
โ       โโโ data-structure.md
โ       โโโ processes.md
โ       โโโ functionality.md
โ       โโโ reports-control.md
โโโ technical/                         # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
โ   โโโ google-cloud/
โ   โโโ integrations/
โ   โโโ development/
โโโ governance/                        # ะฃะฟัะฐะฒะปะตะฝะธะต ัะธััะตะผะพะน
โโโ project-management/                # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะพะผ
```

---

## ๐ฏ ะะปััะตะฒัะต ะฟัะธะฝัะธะฟั

1. **ะะพะดัะปัะฝะพััั** - ะบะฐะถะดัะน ะฑะธะทะฝะตั-ะบะพะฝััั ะฝะตะทะฐะฒะธัะธะผ
2. **ะกะปะพะธััะพััั** - ะบะฐะถะดัะน ะผะพะดัะปั ัะตะฐะปะธะทะพะฒะฐะฝ ัะตัะตะท 4 ัะปะพั
3. **ะฃะฟัะฐะฒะปัะตะผะพััั** - ัะตัะตะท Governance layer
4. **ะะฐัััะฐะฑะธััะตะผะพััั** - ะปะตะณะบะพ ะดะพะฑะฐะฒะปััั ะฝะพะฒัะต ะผะพะดัะปะธ
5. **ะัะพะทัะฐัะฝะพััั** - ะฒัั ะฐััะธัะตะบัััะฐ ะดะพะบัะผะตะฝัะธัะพะฒะฐะฝะฐ
6. **ะะฒัะพะผะฐัะธะทะฐัะธั** - ะผะฐะบัะธะผัะผ ะฟัะพัะตััะพะฒ ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะพ
7. **ะะฐัะตััะฒะพ ะดะฐะฝะฝัั** - ะตะดะธะฝะฐั ะผะพะดะตะปั, ะฒะฐะปะธะดะฐัะธั, ัะธะฝััะพะฝะธะทะฐัะธั

---

## ๐ Roadmap

### ะะฐะฒะตััะตะฝะพ (Q4 2025 - Q1 2026)
- โ ะะฐะทะพะฒะฐั ะธะฝััะฐััััะบัััะฐ (OAuth, Token Refresh)
- โ ะะพะดัะปั Legalizacja - Layer 1 (Data Structure)
- โ ะะพะดัะปั Legalizacja - Layer 3 (Functionality - Sync)
- โ ะะพะดัะปั Legalizacja - Layer 3 (Functionality - OCR)

### ะ ัะฐะทัะฐะฑะพัะบะต (Q1 2026)
- ๐ ะะพะดัะปั Legalizacja - Layer 2 (Processes)
- ๐ ะะพะดัะปั Legalizacja - Layer 4 (Reports & Control)
- ๐ Governance Layer - Roles & Access

### ะะปะฐะฝะธััะตััั (Q2 2026)
- ๐ ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั ัะธััะตะผะฐ ะผะพะฝะธัะพัะธะฝะณะฐ
- ๐ ะะฐััะธัะตะฝะธะต ะผะพะดัะปั Klienci
- ๐ ะะฐะทะฒะธัะธะต ะผะพะดัะปั Legalizacja

---

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- [Bitrix24 Portal](https://bergermann.bitrix24.pl)
- [Google Cloud Console](https://console.cloud.google.com/functions?project=bergermann)
- [GitHub Repository](https://github.com/islivenko/bergermann)
- [Project Roadmap](project-management/project-roadmap.md)

---

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 2026-01-03
**ะะตััะธั ะดะพะบัะผะตะฝัะฐ:** 1.0
**ะัะฒะตัััะฒะตะฝะฝัะน:** KeyFrame Lab

